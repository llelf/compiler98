module Directory (setCurrentDirectory) where

import GreenCard
import PatchIOError

%-#include <sys/stat.h>
%-#include <unistd.h>

%fun chdir :: FilePath -> IO Int
%call (filePath fp)
%code
%  err = chdir(fp);
%result (int err)

setCurrentDirectory :: FilePath -> IO ()
setCurrentDirectory fp = patchIOErrorF "setCurrentDirectory" fp chdir

